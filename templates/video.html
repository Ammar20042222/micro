{% load static  %}
{% include 'header.html' %}

<style>
 
</style>
<script src="https://unpkg.com/htmx.org@1.6.0"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootbox.js/5.5.2/bootbox.min.js" integrity="sha512-RdSPYh1WA6BF0RhpisYJVYkOyTzK4HwofJ3Q7ivt/jkpW6Vc8AurL1R+4AUcvn9IwEKAPm/fk7qFZW3OuiUDeg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<body>
<!-- nav bar -->
 
<div x-data="{ isOpen: false }" class=" relative   overflow-hidden">
  
   

 
    <div class=" max-w-7xl mx-auto">
      <div class=" relative  z-10 pb-8 bg-white sm:pb-16 md:pb-20 lg:max-w-2xl lg:w-full lg:pb-28 xl:pb-32">
        <svg class="hidden lg:block absolute right-0 inset-y-0 h-full w-48 text-white transform translate-x-1/2" fill="currentColor" viewBox="0 0 100 100" preserveAspectRatio="none" aria-hidden="true">
          <polygon points="50,0 100,0 50,100 0,100" />
        </svg>
        
        <!-- On: "bg-indigo-600", Off: "bg-gray-200" -->
        {% include 'base.html' %}
  
        <main class=" mt-10 mx-auto max-w-7xl px-4 sm:mt-12 sm:px-6 md:mt-16 lg:mt-20 lg:px-8 xl:mt-28">
          <div class="sm:text-center lg:text-left">
            <h1 class="text-4xl tracking-tight font-bold text-gray-900 sm:text-5xl sm:tracking-tight md:text-6xl md:tracking-tight">
              
              <span class="block tracking-tight  bg-clip-text text-transparent bg-gradient-to-r from-pink-500 to-violet-500 xl:inline">Video Download microservices</span>
            </h1>
            <p class="mt-3 text-base text-gray-500 sm:mt-5 sm:text-lg sm:max-w-xl sm:mx-auto md:mt-5 md:text-xl lg:mx-0">If you have a youtube link and you want to download it for several purposes and use it on your own, 
              our software gives you the option to download any youtube video with any quality or resolution.
            </p>
            <div class="mt-5 sm:mt-8 sm:flex sm:justify-center lg:justify-start">
              <div class="rounded-md shadow">
                <a href="/product" class="w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-white bg-violet-500 hover:bg-violet-600 md:py-4 md:text-lg md:px-10"> Get started </a>
              </div>
              <div class="mt-3 sm:mt-0 sm:ml-3">
                <a href="/contact-us" class="w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-violet-700 bg-violet-100  hover:bg-violet-200 md:py-4 md:text-lg md:px-10">Contact Us</a>
              </div>
            </div>
          </div>
        </main>
      </div>
    </div>
    <style>
       
     </style> 
   
    <div class="lg:absolute lg:inset-y-0 lg:right-0 lg:w-1/2  ">
          <img  class="h-56 w-full object-cover sm:h-72 md:h-96 lg:w-full lg:h-full" src="https://64.media.tumblr.com/f3685df9b484e05a51707245125b7f46/69ac49b772388859-67/s400x600/8cc040d5941aa1fe341c0c197f411b72914ec7b2.gifv">
      
    </div>
 </div>

 <!-- end nav bar -->
 
  <!--  video download instruction  section -->
  <!-- steps to download a video -->
  <div class="py-12  bg-gray-900">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="lg:text-center">
        <h2 class="text-lg text-fuchsia-500 font-semibold">Video  Youtube Download</h2>
        <p class="mt-2 text-3xl leading-8 font-bold tracking-tight text-white sm:text-4xl sm:tracking-tight">Download video from youtube url</p>
        <p class="mt-4 max-w-2xl text-xl text-gray-200 lg:mx-auto">Please follow the nessesary instructions to download a video form url</p>
      </div>
  
      <div class="mt-10">
        <dl class="space-y-10 md:space-y-0 md:grid md:grid-cols-2 md:gap-x-8 md:gap-y-10">
          <div class="relative">
            <dt>
              <div class="absolute flex items-center justify-center h-12 w-12 rounded-md bg-fuchsia-500 text-white">
                <!-- Heroicon name: outline/globe-alt -->
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244" />
                </svg>
                
              </div>
              <p class="ml-16 text-lg leading-6 font-medium text-white">Enter url that has youtube link</p>
            </dt>
            <dd class="mt-2 ml-16 text-base text-gray-200">Enter the url from youtube including the https , any wrong domain 
              will stop the video from dowloading.
            </dd>
          </div>
  
          <div class="relative">
            <dt>
              <div class="absolute flex items-center justify-center h-12 w-12 rounded-md bg-fuchsia-500 text-white">
                <!-- Heroicon name: outline/scale -->
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M8.625 12a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H8.25m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H12m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0h-.375M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
                
              </div>
              <p class="ml-16 text-lg leading-6 font-medium text-white">Choose the download option</p>
            </dt>
            <dd class="mt-2 ml-16 text-base text-gray-200">There are download option in numbers , press the button below to see what each number presents </dd>
          </div>
  
          <div class="relative">
            <dt>
              <div class="absolute flex items-center justify-center h-12 w-12 rounded-md bg-fuchsia-500 text-white">
                <!-- Heroicon name: outline/lightning-bolt -->
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3" />
                </svg>
                
              </div>
              <p class="ml-16 text-lg leading-6 font-medium text-white">Presse the download button</p>
            </dt>
            <dd class="mt-2 ml-16 text-base text-gray-200"> After uploading url and choosing download option, presee download button</dd>
          </div>
          
          <div class="relative">
            <dt>
              <div class="absolute flex items-center justify-center h-12 w-12 rounded-md bg-fuchsia-500 text-white">
                <!-- Heroicon name: outline/annotation -->
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
                
              </div>
              <p class="ml-16 text-lg leading-6 font-medium text-white">It is only a matter of time</p>
            </dt>
            <dd class="mt-2 ml-16 text-base text-gray-200">Wait , do not close the page , you will recieve a download message in few seconds , and also your video will
              be saved to downloads.
            </dd>
          </div>

       
        </dl>  
        <P>&nbsp;</P>
         

        <h3 class="text-lg leading-6 font-medium text-white py-4" id="modal-title">Enter the link to check available streams before uploading:</h3>                    
        <form hx-post="/video" hx-target="body" id="video-form" method="POST">
          {% csrf_token %}
        <input value="{{vurl}}" type="url" name="streams" id="company-website" class="relative w-full rounded-md  font-bold flex justify-center py-2 px-4 border border-gray-900 hover: focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-fuchsia-500" placeholder="www.example.com"  required/>
        <p>&nbsp;</p>
        <button type="submit"  class="group transition ease-in-out delay-150 bg-fuchsia-500  hover:-translate-y-1 hover:scale-110 hover:bg-indigo-500 duration-300  relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white  bg-fuchsia-500  hover:bg-indigo-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
          Ckeck available Streams
          </button>
        </form>
        <p>&nbsp;</p>
        <p id="notify"></p>
        <p class="text-lg leading-6 font-medium text-pink-500">{{error}}</p>
        {% if choices %}
        <p>&nbsp;</p>
        <dl class="space-y-10 md:space-y-0 md:grid md:grid-cols-1 md:gap-x-8 md:gap-y-10">
          <div  x-data="{ isOpen : false }" >
            <button  @click="isOpen = !isOpen"  class="group transition ease-in-out delay-150 hover:-translate-y-1 hover:scale-110 hover:bg-indigo-500 duration-300 relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-fuchsia-500 hover:bg-indigo-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
              
              Check what each number presents in download options
             
            </button> 
            <div
                x-show="isOpen"
                x-transition:enter="ease-out duration-300 transform"
                x-transition:enter-start="opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"
                x-transition:enter-end="opacity-100 translate-y-0 sm:scale-100"
                x-transition:leave="ease-in duration-200 transform"
                x-transition:leave-start="opacity-100 translate-y-0 sm:scale-100"
                x-transition:leave-end="opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"
                
            >
            
                <div id="error-modal-8" style="visibility:hidden;" class="fixed z-10 inset-0 overflow-y-auto">
                  <div class="flex items-end sm:items-center justify-center min-h-full p-4 text-center sm:p-0">
                    
                    <div class="relative bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:max-w-lg sm:w-full">
                      <div class="bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
                        <div class="sm:flex sm:items-start">
                          
                          <div class="mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left">
                            <!-- form to check available streams for a certain video -->
                           
                            <h3 class="text-lg leading-6 font-medium text-gray-900" id="modal-title">Number and Download Options :</h3>
                              {% if choices %}
                              <P>&nbsp;</P>
                              {% for x in choices %}
                              {{x}}
                              <br>
                              {% endfor %}
                              {% endif %}
                          </div>
                        </div>
                          
                        
                      </div>
                      <div class="bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse">
                        <button type="button"  @click="isOpen =  false"  class="w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-fuchsia-500 text-base font-medium text-white hover:bg-fuchsia-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-fuchsia-500 sm:ml-3 sm:w-auto sm:text-sm">Cancel</button>
                      
                      </div>
                    </div>
                  </div>
                </div>
  
            </div>
            
          </div>
          </dl>
          
          <p>&nbsp;</p>

          <!-- form to download youtube link according to available streams -->
          <form hx-post="/video" hx-target="body" id="video-form" method="POST">
            {% csrf_token %}
            <div class="relative">
              <P>&nbsp;</P>
              <p class=" text-lg leading-6 font-medium text-white">Download options</p>
              <select class="rounded-md" id="cars" name="number-selector">
                {% for x in choices %}
                <option style="max-width:100px" value="{{x.0}}">{{x.0}}</option>
                {% endfor %}
                
              </select>
              <!-- model -->
              <P>&nbsp;</P>
              <input  type="hidden" name="youtube-download" value="{{vurl}}">
              <!-- end model -->
            </div>
            <p>&nbsp;</p>
            <p>&nbsp;</p>
            <p>&nbsp;</p>
            <!-- div id for process downloading -->
            <div id="process">
              <button id="submit" type="submit"  class="group transition ease-in-out delay-150 bg-fuchsia-500  hover:-translate-y-1 hover:scale-110 hover:bg-indigo-500 duration-300  relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white  bg-fuchsia-500  hover:bg-indigo-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                Download
                </button>
            </div>
            
            <script>
              document.getElementById("submit").addEventListener("click", changeStyle);
              function changeStyle() {
                document.getElementById("submit").innerHTML = '<svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>Processing ...'
              };
           </script>
          </form>
          {% endif %}
          {% if path is not None %}
           
          <a  href="{{r}}" style="visibility:hidden;" id="b"  class="text-white"  download>d</a>
          <form style="visibility:hidden;"  hx-post="/video" hx-target="body" method="POST">
          {% csrf_token %}
            <input type="hidden" id="input" value="{{r}}" name="delete">
            <button id="s" type="submit">s</button>
          </form>
          
          
          <script>
             document.getElementById("b").click();
             alert("Successfully Downloaded");
             $("#s").click();
          </script>
          
          
          {% endif %}

        
      </div>
     


    </div>
  </div>

 {% include 'footer.html' %}
 <script>
   setTimeout(function () {
          document.getElementById("error-modal-8").style.visibility = "visible";
    }, 1000)
    $("#video-form").on("submit" , submitHandler());
    function submitHandler() {
      $("#submit").attr("disabled , disabled");
      $("#submit").prop("disabled" , false);
    }
 </script>


  
     
   
<!-- end nav bar -->
 
 
<!--  instructions div -->
  
     